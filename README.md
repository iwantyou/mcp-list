# MCP Root é¡¹ç›®

è¿™æ˜¯ä¸€ä¸ªåŸºäº Model Context Protocol (MCP) çš„æ ¹é¡¹ç›®ï¼ŒåŒ…å«å¤šä¸ªMCPæœåŠ¡å™¨å’Œå·¥å…·ï¼Œä¸“ä¸ºçŸ¥ä¹å†…éƒ¨éœ€æ±‚åˆ†æå’Œå·¥ä½œæµç¨‹ä¼˜åŒ–è€Œè®¾è®¡ã€‚

## é¡¹ç›®ç»“æ„

```
mcp-root/
â”œâ”€â”€ mcp-packages/           # MCPåŒ…ç›®å½•
â”‚   â”œâ”€â”€ create-mcp-template/  # MCPæ¨¡æ¿åˆ›å»ºå·¥å…·
â”‚   â”œâ”€â”€ demand-mcp/         # çŸ¥ä¹éœ€æ±‚åˆ†æMCPæœåŠ¡å™¨
â”‚   â””â”€â”€ test-mcp/           # æµ‹è¯•MCPæœåŠ¡å™¨
â”œâ”€â”€ packages/               # å…±äº«å·¥å…·åŒ…
â”‚   â””â”€â”€ utils/              # é€šç”¨å·¥å…·åº“
â”œâ”€â”€ package.json            # æ ¹é¡¹ç›®é…ç½®
â”œâ”€â”€ pnpm-workspace.yaml     # pnpmå·¥ä½œåŒºé…ç½®
â””â”€â”€ tsconfig.base.json      # TypeScriptåŸºç¡€é…ç½®
```

## åŠŸèƒ½ç‰¹æ€§

- ğŸš€ **æ¨¡å—åŒ–æ¶æ„**: ä½¿ç”¨pnpmå·¥ä½œåŒºç®¡ç†å¤šä¸ªMCPåŒ…
- ğŸ› ï¸ **å¼€å‘å·¥å…·**: ç»Ÿä¸€çš„æ„å»ºã€æµ‹è¯•å’Œä»£ç æ£€æŸ¥
- ğŸ“¦ **æ¨¡æ¿ç³»ç»Ÿ**: å¿«é€Ÿåˆ›å»ºæ–°çš„MCPæœåŠ¡å™¨
- ğŸ”§ **ç±»å‹å®‰å…¨**: å®Œæ•´çš„TypeScriptæ”¯æŒ
- ğŸ“Š **éœ€æ±‚åˆ†æ**: ä¸“ä¸šçš„çŸ¥ä¹RFCéœ€æ±‚åˆ†æå·¥å…·
- ğŸ§ª **æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆ**: è‡ªåŠ¨ç”Ÿæˆæ ‡å‡†åŒ–æµ‹è¯•ç”¨ä¾‹
- ğŸŒ **å¤šå·¥å…·æ”¯æŒ**: å¤©æ°”æŸ¥è¯¢ã€æ—¶é—´å·¥å…·ç­‰å®ç”¨åŠŸèƒ½

## å­é¡¹ç›®

### 1. create-mcp-template
MCPæœåŠ¡å™¨æ¨¡æ¿åˆ›å»ºå·¥å…·ï¼Œæä¾›å¿«é€Ÿåˆ›å»ºæ–°MCPé¡¹ç›®çš„åŠŸèƒ½ã€‚

**ä¸»è¦åŠŸèƒ½:**
- åŸºäºæ¨¡æ¿åˆ›å»ºæ–°çš„MCPæœåŠ¡å™¨é¡¹ç›®
- è‡ªåŠ¨é…ç½®package.jsonå’Œé¡¹ç›®ç»“æ„
- æ”¯æŒè‡ªå®šä¹‰ç›®å½•å’Œè¦†ç›–é€‰é¡¹

**ä½¿ç”¨æ–¹æ³•:**
```bash
# æ‰‹åŠ¨link
pnpm link:zmc

# åˆ›å»ºæ–°é¡¹ç›®
zmc my-mcp-server

# æŒ‡å®šç›®å½•
zmc my-mcp-server -d custom-directory

# è¦†ç›–å·²å­˜åœ¨æ–‡ä»¶
zmc my-mcp-server -o
```

### 2. demand-mcp
ä¸“ä¸šçš„çŸ¥ä¹éœ€æ±‚åˆ†æMCPæœåŠ¡å™¨ï¼Œä¸“é—¨ç”¨äºè¯»å–å’Œåˆ†æçŸ¥ä¹RFCéœ€æ±‚æ–‡æ¡£ï¼Œå¹¶ç”Ÿæˆæ ‡å‡†åŒ–çš„æµ‹è¯•ç”¨ä¾‹ã€‚

**ä¸»è¦åŠŸèƒ½:**
- ğŸ“‹ **éœ€æ±‚æ–‡æ¡£è¯»å–**: è‡ªåŠ¨è¯»å–çŸ¥ä¹RFCéœ€æ±‚é“¾æ¥
- ğŸ§  **æ™ºèƒ½éœ€æ±‚åˆ†æ**: åŸºäºäº§å“ç®¡ç†æœ€ä½³å®è·µè¿›è¡Œéœ€æ±‚åˆ†æ
- ğŸ§ª **æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆ**: è‡ªåŠ¨ç”Ÿæˆç»“æ„åŒ–çš„æµ‹è¯•ç”¨ä¾‹
- ğŸ“Š **å¤šæ ¼å¼è¾“å‡º**: æ”¯æŒJSONã€Markdownç­‰å¤šç§è¾“å‡ºæ ¼å¼

**æ ¸å¿ƒå·¥å…·:**
- `read`: è¯»å–çŸ¥ä¹éœ€æ±‚é“¾æ¥å¹¶ç”Ÿæˆéœ€æ±‚åˆ†ææŠ¥å‘Š
- `genCase`: æ ¹æ®éœ€æ±‚å†…å®¹ç”Ÿæˆæ ‡å‡†åŒ–çš„æµ‹è¯•ç”¨ä¾‹

**ä½¿ç”¨æ–¹æ³•:**
```bash
# å¯åŠ¨æœåŠ¡å™¨
cd mcp-packages/demand-mcp
pnpm start

# ç›´æ¥ä½¿ç”¨CLI
node cli.js read "https://one.in.zhihu.com/new-one/rfcs/67986"
```

### 3. test-mcp
ä¼˜åŒ–çš„MCPæœåŠ¡å™¨ï¼Œæä¾›å¤šç§å®ç”¨å·¥å…·ã€‚

**ä¸»è¦åŠŸèƒ½:**
- ğŸŒ¤ï¸ **å¤©æ°”æŸ¥è¯¢**: è·å–å…¨çƒä»»æ„ä½ç½®çš„å¤©æ°”é¢„æŠ¥
- â° **æ—¶é—´å·¥å…·**: è·å–å½“å‰æ—¶é—´å’Œæ—¶åŒºä¿¡æ¯
- ğŸ‘‹ **é—®å€™å·¥å…·**: ç®€å•çš„é—®å€™åŠŸèƒ½
- ğŸ”„ **ç¼“å­˜æœºåˆ¶**: å¤©æ°”æ•°æ®ç¼“å­˜ï¼Œæé«˜å“åº”é€Ÿåº¦

**ä½¿ç”¨æ–¹æ³•:**
```bash
cd mcp-packages/test-mcp
pnpm start
```

### 4. utils
å…±äº«å·¥å…·åº“ï¼Œæä¾›é€šç”¨çš„å¼€å‘å·¥å…·ã€‚

**ä¸»è¦åŠŸèƒ½:**
- ğŸ“ **æ—¥å¿—ç³»ç»Ÿ**: ç»“æ„åŒ–çš„æ—¥å¿—è¾“å‡ºï¼Œæ”¯æŒé¢œè‰²å’Œæ ¼å¼åŒ–
- ğŸ¨ **ç»ˆç«¯å·¥å…·**: å±å¹•æ¸…ç†ã€é¢œè‰²è¾“å‡ºç­‰ç»ˆç«¯æ“ä½œ
- ğŸ”§ **å·¥å…·å‡½æ•°**: é€šç”¨çš„å¼€å‘è¾…åŠ©å‡½æ•°

## å®‰è£…å’Œå¼€å‘

### ç¯å¢ƒè¦æ±‚
- Node.js >= 18.0.0
- pnpm >= 9.15.0

### å®‰è£…ä¾èµ–
```bash
pnpm install
```

### æ„å»ºæ‰€æœ‰é¡¹ç›®
```bash
pnpm build
```

### ä»£ç æ£€æŸ¥
```bash
pnpm lint
pnpm lint:fix
```

### è¿è¡Œæµ‹è¯•
```bash
pnpm test
```

## å¼€å‘è„šæœ¬

- `pnpm build`: æ„å»ºæ‰€æœ‰å­é¡¹ç›®
- `pnpm lint`: ä»£ç æ£€æŸ¥
- `pnpm lint:fix`: è‡ªåŠ¨ä¿®å¤ä»£ç é—®é¢˜
- `pnpm dev:zmc`: å¼€å‘æ¨¡å¼æ„å»ºcreate-mcp-template
- `pnpm build:zmc`: æ„å»ºcreate-mcp-template
- `pnpm link:zmc`: å…¨å±€é“¾æ¥create-mcp-templateå·¥å…·
- `pnpm unlink:zmc`: å–æ¶ˆå…¨å±€é“¾æ¥

## æŠ€æœ¯æ ˆ

- **åŒ…ç®¡ç†**: pnpm + å·¥ä½œåŒº
- **è¯­è¨€**: TypeScript
- **æ„å»ºå·¥å…·**: TypeScript Compiler
- **æµ‹è¯•æ¡†æ¶**: Vitest
- **ä»£ç æ£€æŸ¥**: ESLint
- **MCP SDK**: @modelcontextprotocol/sdk
- **HTTPå®¢æˆ·ç«¯**: node-fetch
- **æ•°æ®éªŒè¯**: Zod
- **å‘½ä»¤è¡Œå·¥å…·**: CAC

## é¡¹ç›®é…ç½®

### TypeScripté…ç½®
- ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼
- æ”¯æŒESæ¨¡å—
- ç»Ÿä¸€çš„ç¼–è¯‘é…ç½®

### ESLinté…ç½®
- TypeScriptæ”¯æŒ
- å¯¼å…¥è§„åˆ™
- ä»£ç é£æ ¼ç»Ÿä¸€

### ç¯å¢ƒå˜é‡é…ç½®
å„MCPæœåŠ¡å™¨æ”¯æŒé€šè¿‡`.env`æ–‡ä»¶é…ç½®ç¯å¢ƒå˜é‡ï¼š

```bash
# çŸ¥ä¹APIé…ç½® (demand-mcp)
ZHIHU_API_TOKEN=your_api_token_here
ZHIHU_API_BASE_URL=https://one.in.zhihu.com/api/v2

# æœåŠ¡å™¨é…ç½®
PORT=9000
HOST=localhost
```

## ä½¿ç”¨åœºæ™¯

### éœ€æ±‚åˆ†æå·¥ä½œæµ
1. ä½¿ç”¨`demand-mcp`è¯»å–çŸ¥ä¹RFCéœ€æ±‚é“¾æ¥
2. è‡ªåŠ¨ç”Ÿæˆéœ€æ±‚åˆ†ææŠ¥å‘Š
3. åŸºäºéœ€æ±‚å†…å®¹ç”Ÿæˆæ ‡å‡†åŒ–æµ‹è¯•ç”¨ä¾‹
4. è¾“å‡ºç»“æ„åŒ–çš„åˆ†æç»“æœ

### å¼€å‘å·¥å…·é“¾
1. ä½¿ç”¨`create-mcp-template`å¿«é€Ÿåˆ›å»ºæ–°çš„MCPé¡¹ç›®
2. åˆ©ç”¨`utils`åŒ…æä¾›çš„é€šç”¨å·¥å…·
3. ä½¿ç”¨`test-mcp`è¿›è¡ŒåŠŸèƒ½æµ‹è¯•å’ŒéªŒè¯

## è®¸å¯è¯

ISC License

## è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

### è´¡çŒ®æŒ‡å—
1. Forké¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ°åˆ†æ”¯
5. æ‰“å¼€Pull Request

## æ›´æ–°æ—¥å¿—

### v1.0.0
- åˆå§‹ç‰ˆæœ¬
- åŸºç¡€é¡¹ç›®ç»“æ„
- create-mcp-templateå·¥å…·
- test-mcpæœåŠ¡å™¨
- demand-mcpéœ€æ±‚åˆ†ææœåŠ¡å™¨
- utilså…±äº«å·¥å…·åº“
- å®Œæ•´çš„å¼€å‘å·¥å…·é“¾ 