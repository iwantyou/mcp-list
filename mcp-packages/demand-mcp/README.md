# Demand MCP Server

[![Node.js Version](https://img.shields.io/badge/node-%3E%3D18.0.0-brightgreen.svg)](https://nodejs.org/)
[![License](https://img.shields.io/badge/license-ISC-blue.svg)](LICENSE)
[![MCP Version](https://img.shields.io/badge/MCP-1.16.0-blue.svg)](https://modelcontextprotocol.io/)

ä¸€ä¸ªä¸“ä¸šçš„çŸ¥ä¹éœ€æ±‚åˆ†æMCPæœåŠ¡å™¨ï¼Œä¸“é—¨ç”¨äºè¯»å–å’Œåˆ†æçŸ¥ä¹RFCéœ€æ±‚æ–‡æ¡£ï¼Œå¹¶ç”Ÿæˆæ ‡å‡†åŒ–çš„æµ‹è¯•ç”¨ä¾‹ã€‚

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

### ğŸ“‹ æ ¸å¿ƒåŠŸèƒ½
- **éœ€æ±‚æ–‡æ¡£è¯»å–**: è‡ªåŠ¨è¯»å–çŸ¥ä¹RFCéœ€æ±‚é“¾æ¥
- **æ™ºèƒ½éœ€æ±‚åˆ†æ**: åŸºäºISO/IEC/IEEE 29119æ ‡å‡†è¿›è¡Œéœ€æ±‚åˆ†æ
- **æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆ**: è‡ªåŠ¨ç”Ÿæˆç»“æ„åŒ–çš„æµ‹è¯•ç”¨ä¾‹
- **å¤šæ ¼å¼è¾“å‡º**: æ”¯æŒJSONã€Markdownã€XMindç­‰å¤šç§è¾“å‡ºæ ¼å¼

### ğŸ› ï¸ å·¥å…·é›†
- **read**: è¯»å–çŸ¥ä¹éœ€æ±‚é“¾æ¥å¹¶åˆ†æ

### ğŸ¯ åˆ†æèƒ½åŠ›
- **éœ€æ±‚ç»“æ„åŒ–åˆ†æ**: åŠŸèƒ½éœ€æ±‚ã€æ€§èƒ½éœ€æ±‚ã€ç”¨æˆ·ä½“éªŒéœ€æ±‚åˆ†ç±»
- **æµ‹è¯•é£é™©è¯„ä¼°**: è¯†åˆ«æµ‹è¯•éš¾ç‚¹ã€é£é™©ç‚¹ã€ä¾èµ–å…³ç³»
- **æµ‹è¯•ç­–ç•¥åˆ¶å®š**: åŸºäºéœ€æ±‚å¤æ‚åº¦åˆ¶å®šæµ‹è¯•ç­–ç•¥
- **ä¼˜å…ˆçº§è¯„ä¼°**: ç´§æ€¥ç¨‹åº¦ã€é‡è¦ç¨‹åº¦ã€å½±å“èŒƒå›´åˆ†æ

## ğŸ“¦ å®‰è£…

### ç¯å¢ƒè¦æ±‚
- Node.js >= 18.0.0
- npm æˆ– pnpm

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone <repository-url>
cd mcp-packages/demand-mcp
```

2. **å®‰è£…ä¾èµ–**
```bash
pnpm install
```

3. **æ„å»ºé¡¹ç›®**
```bash
npm run build
```

## ğŸ”§ ä½¿ç”¨æ–¹æ³•

### å¯åŠ¨æœåŠ¡å™¨

```bash
# å¼€å‘æ¨¡å¼
npm run dev

# ç”Ÿäº§æ¨¡å¼
npm start
```

### ä½œä¸ºMCPå®¢æˆ·ç«¯ä½¿ç”¨

åœ¨æ”¯æŒMCPçš„å®¢æˆ·ç«¯ï¼ˆå¦‚Cursorï¼‰ä¸­é…ç½®ï¼š

```json
{
  "mcpServers": {
    "demand-mcp": {
      "command": "node",
      "args": ["/path/to/demand-mcp/cli.js"],
      "env": {}
    }
  }
}
```
æˆ–è€…ä½¿ç”¨sse

```json
{
  "mcpServers": {
    "demand-mcp": {
      "type": "sse",
      "url": "http://localhost:9000/sse",
    }
  }
}
```

## ğŸ“š API æ–‡æ¡£

### read å·¥å…·

è¯»å–çŸ¥ä¹éœ€æ±‚é“¾æ¥å¹¶ç”Ÿæˆåˆ†ææŠ¥å‘Šã€‚

**å‚æ•°:**
- `url` (string): çŸ¥ä¹RFCéœ€æ±‚é“¾æ¥

**ç¤ºä¾‹:**
```javascript
// è¯»å–éœ€æ±‚é“¾æ¥
const result = await readTool.handle({
  url: "https://one.in.zhihu.com/new-one/rfcs/67986"
});
```

**è¿”å›æ ¼å¼:**
```json
{
  "content": [
    {
      "type": "text",
      "text": "# éœ€æ±‚åˆ†ææŠ¥å‘Š\n\n## éœ€æ±‚æ¦‚è¿°\n..."
    }
  ]
}
```

### time å·¥å…·

è·å–å½“å‰æ—¶é—´å’Œæ—¶åŒºä¿¡æ¯ã€‚

**å‚æ•°:**
- `timezone` (string, å¯é€‰): æ—¶åŒºï¼Œå¦‚ "Asia/Shanghai"
- `format` (string, å¯é€‰): è¾“å‡ºæ ¼å¼ï¼Œæ”¯æŒ "full", "date", "time", "timestamp"

**ç¤ºä¾‹:**
```javascript
// è·å–å®Œæ•´æ—¶é—´ä¿¡æ¯
const result = await timeTool.handle({
  timezone: "Asia/Shanghai",
  format: "full"
});
```

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
demand-mcp/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ tools/           # MCPå·¥å…·å®ç°
â”‚   â”‚   â”œâ”€â”€ read.ts      # éœ€æ±‚è¯»å–å·¥å…·
â”‚   â”‚   â”œâ”€â”€ time.ts      # æ—¶é—´å·¥å…·
â”‚   â”‚   â””â”€â”€ tool.ts      # å·¥å…·åŸºç±»
â”‚   â”œâ”€â”€ prompts/         # æç¤ºè¯æ¨¡æ¿
â”‚   â”œâ”€â”€ mcpServer.ts     # MCPæœåŠ¡å™¨å®ç°
â”‚   â”œâ”€â”€ cli.ts          # å‘½ä»¤è¡Œæ¥å£
â”‚   â””â”€â”€ index.ts        # å…¥å£æ–‡ä»¶
â”œâ”€â”€ dist/               # æ„å»ºè¾“å‡º
â”œâ”€â”€ cli.js             # CLIå…¥å£
â”œâ”€â”€ package.json       # é¡¹ç›®é…ç½®
â””â”€â”€ README.md          # é¡¹ç›®æ–‡æ¡£
```

## ğŸ” åˆ†ææ¡†æ¶

### éœ€æ±‚åˆ†ææµç¨‹

1. **æ–‡æ¡£å†…å®¹è§£æ**: æ·±å…¥åˆ†æRFCæ–‡æ¡£çš„æ ¸å¿ƒå†…å®¹
2. **éœ€æ±‚ç»“æ„åŒ–åˆ†æ**: 
   - åŠŸèƒ½éœ€æ±‚è¯†åˆ«ï¼šæ ¸å¿ƒåŠŸèƒ½ã€è¾…åŠ©åŠŸèƒ½ã€è¾¹ç•ŒåŠŸèƒ½
   - æ€§èƒ½éœ€æ±‚è¯„ä¼°ï¼šå“åº”æ—¶é—´ã€å¹¶å‘é‡ã€æ•°æ®é‡è¦æ±‚
   - ç”¨æˆ·ä½“éªŒéœ€æ±‚ï¼šç•Œé¢äº¤äº’ã€æ“ä½œæµç¨‹ã€å¼‚å¸¸å¤„ç†
3. **æµ‹è¯•é£é™©è¯„ä¼°**: è¯†åˆ«æµ‹è¯•éš¾ç‚¹ã€é£é™©ç‚¹ã€ä¾èµ–å…³ç³»
4. **æµ‹è¯•ç­–ç•¥åˆ¶å®š**: åŸºäºéœ€æ±‚å¤æ‚åº¦åˆ¶å®šæµ‹è¯•ç­–ç•¥

### è¾“å‡ºæ ¼å¼

#### éœ€æ±‚åˆ†ææŠ¥å‘Š
- ğŸ“‹ éœ€æ±‚æ¦‚è¿°
- ğŸ¯ éœ€æ±‚åˆ†ç±»ä¸æµ‹è¯•é‡ç‚¹
- âš¡ æµ‹è¯•ä¼˜å…ˆçº§è¯„ä¼°
- ğŸ”§ æŠ€æœ¯å¯è¡Œæ€§åˆ†æ
- ğŸš¨ æµ‹è¯•é£é™©è¯†åˆ«
- ğŸ’¡ æµ‹è¯•ç­–ç•¥å»ºè®®
- ğŸ“ˆ æµ‹è¯•æŒ‡æ ‡ä¸éªŒæ”¶æ ‡å‡†

#### æµ‹è¯•ç”¨ä¾‹ç»“æ„
- æµ‹è¯•æ¨¡å—
- å­æ¨¡å—
- å‰ç½®æ¡ä»¶
- æµ‹è¯•æ­¥éª¤
- é¢„æœŸç»“æœ
- ä¼˜å…ˆçº§ (1-4)

## ğŸ§ª æµ‹è¯•ç”¨ä¾‹æ ‡å‡†

### ä¼˜å…ˆçº§å®šä¹‰
- **ä¼˜å…ˆçº§1**: ç³»ç»Ÿå¿…é¡»ä½¿ç”¨çš„åŠŸèƒ½ã€è´­ä¹°ç›¸å…³åŠç”Ÿæ•ˆæ€§éªŒè¯ã€å®éªŒåˆ†ç»„ã€å½“å‰éœ€æ±‚çš„æ ¸å¿ƒæ”¹åŠ¨ç‚¹
- **ä¼˜å…ˆçº§2**: äº§å“éæ ¸å¿ƒæ¨¡å—å¿…é¡»ä½¿ç”¨çš„åŠŸèƒ½ã€æ ¸å¿ƒåŠŸèƒ½çš„è¾¹ç•Œåœºæ™¯
- **ä¼˜å…ˆçº§3**: ç”¨æˆ·ä½¿ç”¨äº¤äº’è·³è½¬ã€å½±å“åŠŸèƒ½ä½¿ç”¨çš„UIã€æ€§èƒ½ã€å¼‚å¸¸åœºæ™¯ã€æ–‡æ¡ˆç±»æ£€æŸ¥
- **ä¼˜å…ˆçº§4**: éåŠŸèƒ½æ€§çš„ä½“éªŒã€ä¸å½±å“æ­£å¸¸åŠŸèƒ½ä½¿ç”¨çš„UIã€æ€§èƒ½ã€å¼‚å¸¸åœºæ™¯

### æµ‹è¯•åœºæ™¯è¦†ç›–
- æ­£å‘æµ‹è¯•
- é€†å‘æµ‹è¯•
- è¾¹ç•Œå€¼æµ‹è¯•
- å¼‚å¸¸è¾“å…¥æµ‹è¯•
- å®éªŒåˆ†ç»„æµ‹è¯•

## ğŸš€ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°å·¥å…·

1. åœ¨ `src/tools/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„å·¥å…·æ–‡ä»¶
2. ä½¿ç”¨ `defineTool` å‡½æ•°å®šä¹‰å·¥å…·
3. åœ¨ `src/all-tools.ts` ä¸­æ³¨å†Œæ–°å·¥å…·
4. æ›´æ–°æ–‡æ¡£

### ç¤ºä¾‹å·¥å…·å®šä¹‰

```typescript
import { defineTool } from './tool.js';
import { z } from 'zod';

export const newTool = defineTool({
  name: 'new-tool',
  description: 'æ–°å·¥å…·æè¿°',
  schema: z.object({
    // å®šä¹‰å‚æ•°schema
  }),
  annotations: {
    title: 'New Tool',
    readOnlyHint: true,
    destructiveHint: false,
    openWorldHint: false,
  },
  handle: async ({ /* å‚æ•° */ }) => {
    // å·¥å…·å®ç°é€»è¾‘
    return {
      content: [
        {
          type: 'text',
          text: 'å·¥å…·æ‰§è¡Œç»“æœ',
        }
      ]
    };
  },
});
```

### æ„å»ºå’Œæµ‹è¯•

```bash
# æ„å»ºé¡¹ç›®
npm run build

# è¿è¡Œæµ‹è¯•
npm test

# ä»£ç æ£€æŸ¥
npm run lint

# ä¿®å¤ä»£ç æ ¼å¼
npm run lint:fix
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ ISC è®¸å¯è¯ã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

### è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“ æ”¯æŒ

å¦‚æœæ‚¨é‡åˆ°é—®é¢˜æˆ–æœ‰å»ºè®®ï¼Œè¯·ï¼š

1. æŸ¥çœ‹ [Issues](../../issues) é¡µé¢
2. åˆ›å»ºæ–°çš„ Issue
3. è”ç³»é¡¹ç›®ç»´æŠ¤è€…

## ğŸ”„ æ›´æ–°æ—¥å¿—

### v0.0.1
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- å®ç°éœ€æ±‚è¯»å–å’Œåˆ†æåŠŸèƒ½
- æ”¯æŒæµ‹è¯•ç”¨ä¾‹ç”Ÿæˆ
- æ·»åŠ æ—¶é—´å·¥å…·

---

**æ³¨æ„**: æœ¬é¡¹ç›®ä»…ä¾›å†…éƒ¨ä½¿ç”¨ï¼Œè¯·å‹¿ç”¨äºå•†ä¸šç”¨é€”ã€‚ 